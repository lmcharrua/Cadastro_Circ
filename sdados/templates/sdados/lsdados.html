{% extends 'base.html' %}
{% load static %}
{% block content %}


<form id="lsds-form"
        hx-get="{% url 'lsdados' %}"
        hx-target="#list_lsds"
        hx-push-url="true">

    <!-- Nova tabela -->
    <div class=" p-4 flex justify-between">
        {% csrf_token %}
        <div>
        <span class=" items-center justify-center">
        <input type="text" name="search" placeholder="Pesquisar..." value="{% if request.GET.search %}{{ request.GET.search }}{% endif %}" class="text-xs items-center border justify-center border-gray-300 rounded-md p-2 w-1/3" hx-post="{% url 'lsdados' %}" hx-target="#list_lsds" hx-swap="innerHTML" hx-trigger="keyup changed delay:500ms" hx-indicator="#spinner">
        </span>
        </div>
        <div>
            <select name="per_page" class="text-xs border border-gray-300 rounded-md" 
                hx-get="{% url 'lsdados' %}" 
                hx-target="#list_lsds" 
                hx-swap="innerHTML"
                hx-trigger="change"
                hx-indicator="#spinner">
                <option class="text-xs" value="10" {% if request.GET.per_page == "10" %}selected{% endif %}>10 por página</option>
                <option class="text-xs" value="25" {% if request.GET.per_page == "25" %}selected{% endif %}>25 por página</option>
                <option class="text-xs" value="50" {% if request.GET.per_page == "50" %}selected{% endif %}>50 por página</option>
                <option class="text-xs" value="100" {% if request.GET.per_page == "100" %}selected{% endif %}>100 por página</option>
            </select>
        </div>
    </div>
    
    <div class=" overflow-x-auto ">
        <div id="spinner" class="loader htmx-indicator mb-1">   </div>
            
        <table class="p-1" style="width: 100%;">
                <tr>                    
                    <td class="p-1">
                        <input type="text" name="ref" class="text-xs w-full border-ipt-main rounded-sm" placeholder="Pesquisar Referência" value="{% if request.GET.ref %}{{ request.GET.ref }}{% endif %}" hx-get="{% url 'lsdados' %}" hx-target="#list_lsds" hx-swap="innerHTML" hx-trigger="keyup changed delay:500ms" hx-indicator="#spinner" disabled/>
                    </td>
                    <td class="p-1">
                        <input type="text" name="isid" class="text-xs w-full border-ipt-main rounded-sm" placeholder="Pesquisar Isid" value="{% if request.GET.isid %}{{ request.GET.isid }}{% endif %}" hx-get="{% url 'lsdados' %}" hx-target="#list_lsds" hx-swap="innerHTML" hx-trigger="keyup changed delay:500ms" hx-indicator="#spinner" />
                    </td>
                    <td class="p-1">
                        <input type="text" name="isid_name" class="text-xs w-full border-ipt-main rounded-sm" placeholder="Pesquisar Isid Name" value="{% if request.GET.isid_name %}{{ request.GET.isid_name }}{% endif %}" hx-get="{% url 'lsdados' %}" hx-target="#list_lsds" hx-swap="innerHTML" hx-trigger="keyup changed delay:500ms" hx-indicator="#spinner" />
                    </td>
                    <td class="p-1">
                        <input type="text" name="cliente" class="text-xs w-full border-ipt-main rounded-sm" placeholder="Pesquisar Cliente" value="{% if request.GET.cliente %}{{ request.GET.cliente }}{% endif %}" hx-get="{% url 'lsdados' %}" hx-target="#list_lsds" hx-swap="innerHTML" hx-trigger="keyup changed delay:500ms" hx-indicator="#spinner" />
                    </td>
                    <td class="p-1">
                        <input type="text" name="estado" class="text-xs w-full border-ipt-main rounded-sm" placeholder="Pesquisar Estado" value="{% if request.GET.estado %}{{ request.GET.estado }}{% endif %}" hx-get="{% url 'lsdados' %}" hx-target="#list_lsds" hx-swap="innerHTML" hx-trigger="keyup changed delay:500ms" hx-indicator="#spinner" />
                    </td>
                    <td class="p-1">
                        <input type="text" name="service_type" class="text-xs w-full border-ipt-main rounded-sm" placeholder="Pesquisar Service Type" value="{% if request.GET.service_type %}{{ request.GET.service_type }}{% endif %}" hx-get="{% url 'lsdados' %}" hx-target="#list_lsds" hx-swap="innerHTML" hx-trigger="keyup changed delay:500ms" hx-indicator="#spinner" />
                    </td>
                    <td class="p-1">
                        <input type="text" name="created_at" class="text-xs w-full border-ipt-main rounded-sm" placeholder="Pesquisar Data Activação" value="{% if request.GET.created_at %}{{ request.GET.created_at }}{% endif %}" hx-get="{% url 'lsdados' %}" hx-target="#list_lsds" hx-swap="innerHTML" hx-trigger="keyup changed delay:500ms" hx-indicator="#spinner" />
                    </th>
                    
                </tr>
            </table>
            
            {% include 'partials/tsdados.html' %}
   
    </div>
    <div class="mt-3 flex justify-center space-x-2">
  
</div>

 




</form>

        

<script src="{% static 'js/jquery.min.js'%}"></script>






{% endblock %}